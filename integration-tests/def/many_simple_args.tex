\def\foo#1{#2}[#3]#4.{#5}#6#7{one #1 two #2 three #3 four #4 five #5 six #6 seven #7}

\begin{document}
\foo one {two}[three]{four}.{five} six{seven} after
\end{document}
